<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">


<html>
<head>
	<title>perl.com: Better Code Through Destruction</title>
	<meta name="keywords" content="perl.com,O'Reilly Network,oreillynet,oreillynet.com,O'Reilly,OREILLY,CPAN, Modules,,Igor Gariev,RAII,Object::Destructor,reference counting,Perl memory leaks,Perl memory management." >
	<meta name="description" content="Igor Gariev explains the Resource Acquisition Is Initialization idiom in Perl 5 and shows how to improve your memory and resource handling." />
	<meta name="date" content="Jun. 07, 2007" />
	<meta name="pagename" content="Better Code Through Destruction" />
	<meta name="site" content="perl.com" />
	<meta name="author" content="Igor Gariev" />
	<meta name="safariu_url" content="" />



<!-- feed autodiscovery links -->
<link rel="alternate" type="application/atom+xml" title="Perl Articles and Weblogs" href="http://www.oreillynet.com/pub/feed/16" />
<link rel="alternate" type="application/rdf+xml" title="Perl Articles and Weblogs" href="http://www.oreillynet.com/pub/feed/16?format=rss1" />
<link rel="alternate" type="application/rss+xml" title="Perl Articles and Weblogs" href="http://www.oreillynet.com/pub/feed/16?format=rss2" />


<link rel="stylesheet" type="text/css" href="http://www.oreillynet.com/styles/main.css" />
<script language="JavaScript" src="http://www.perl.com/common.js">
</script>
<script language='JavaScript' type='text/javascript' src='http://grepblogs.net/adx.js'></script>


<script type="text/javascript" src="http://www.perl.com/tabber.js"></script>

<!-- additional css -->
<link rel="stylesheet" type="text/css" href="http://www.oreillynet.com/styles/articles.css" />

</head>
<body id="perl">
<div id="page">
<div id="header" class="noindex">
<h1><a href="http://www.perl.com/"><img src="http://www.perl.com/images/75-logo.jpg" alt="www.perl.com" width="205" height="75" border="0"></a></h1>

<!-- tabs -->
<nobr><a href="http://www.oreillynet.com/"><img src="http://www.oreillynet.com/images/tabs/orn_black.gif" alt="O'Reilly Network." width="113" height="16" hspace="0" vspace="0" border="0" /></a><a href="http://www.oreilly.com/"><img src="http://www.oreillynet.com/images/tabs/ora_gray.gif" alt="oreilly.com" width="82" height="16" hspace="0" vspace="0" border="0" /></a><a href="http://safari.oreilly.com/"><img src="http://www.oreillynet.com/images/tabs/safari_gray.gif" alt="Safari Bookshelf." width="114" height="16" hspace="0" vspace="0" border="0" /></a><a href="http://conferences.oreilly.com/"><img src="http://www.oreillynet.com/images/tabs/conf_gray.gif" alt="Conferences." width="88" height="16" hspace="0" vspace="0" border="0" /></a></nobr>

<!-- menubar -->
<table border="0" cellpadding="0" cellspacing="1" height="25" width="100%" bgcolor="#ffffff"><tr bgcolor="#ffffff">
<td align="center" bgcolor="#000000"  style="padding-left: 8px; padding-right: 8px"><a href="http://www.perl.com/pub/q/Article_Archive" class="nolinewhite">Articles</a></td>
<td align="center" bgcolor="#000000"  style="padding-left: 8px; padding-right: 8px"><a href="http://www.oreillynet.com/onlamp/blog/" class="nolinewhite">ONLamp&nbsp;Weblog</a></td>
<td align="center" bgcolor="#000000" style="padding-left: 8px; padding-right: 8px"><a class="nolinewhite" href="http://www.oreilly.com/catalog/">Books</a></td>
<!--td align="center" bgcolor="#000000" style="padding-left: 8px; padding-right: 8px"><a class="nolinewhite" href="http://meerkat.oreillynet.com/">Meerkat&nbsp;Feeds</a></td-->
<td align="center" bgcolor="#000000" style="padding-left: 8px; padding-right: 8px"><a class="nolinewhite" href="http://www.oreillylearning.com/">Courses</a></td>
<td align="center" bgcolor="#000000" style="padding-left: 8px; padding-right: 8px"><a class="nolinewhite" href="http://www.oreilly.com/store/series/sc.html">Short&nbsp;Cuts</a></td>
<td align="center" bgcolor="#000000" style="padding-left: 8px; padding-right: 8px"><a class="nolinewhite" href="http://www.oreillynet.com/podcasts/">Podcasts</a></td>
<td colspan="2" width="100%" nowrap="nowrap" bgcolor="#000000" style="padding-left: 8px; padding-right: 8px">&nbsp;<!-- right-most cell (empty)--></td>
</tr></table>

<div id="leaderboard">
<img src="http://www.oreillynet.com/images/ads/ad-tag-vertical.gif" width="11" height="90" border="0" alt="advertisement" style="float:right;"/>

<div style="width:728px;margin:0 auto;">
<div class="adtag " style="width:728px;"><!-- dy -->
<!-- begin ad tag -->
<script language="JavaScript" type="text/javascript">
//<![CDATA[
var ord = (ord != null ? ord : Math.random()*10000000000000000 );
document.write('<script language="JavaScript" src="http://ad.doubleclick.net/adj/ttm.perl/home;sz=728x90;tile=1;ord=' + ord + '?" type="text/javascript"><\/script>');
//]]>
</script><noscript><a href="http://ad.doubleclick.net/jump/ttm.perl/home;sz=728x90;tile=1;ord=2572659364?" target="_blank"><img src="http://ad.doubleclick.net/ad/ttm.perl/home;sz=728x90;ord=123456789?" width="728" height="90" border="0" alt="" /></a></noscript>
<!-- End ad tag -->
</div>
</div>
</div> <!-- end leaderboard -->

<div id="colored-bar-ad" class="tinywhite" align="center" style="background-color:#006699;"><div style="padding-top:10px;">
<span class="tinywhite">
<a href="http://www.web2summit.com/" class="tinywhite">Web 2.0 Summit</a> October 17 - 19, 2007, San Francisco, CA</span>

</div>
<!--p class="smalllist" align="center"><ad co="dc" site="perl" page="textbar" width="1" height="1"><span class="tinywhite"></span></p-->
</div>
</div> <!-- end header -->

<div id="page-content">
<div id="article">

<a href="http://www.addthis.com/bookmark.php" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="http://s5.addthis.com/button1-bm.gif" width="125" height="16" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'odewahn';</script><script type="text/javascript" src="http://s5.addthis.com/js/widget.php?v=10"></script>  

<p>
<!-- begin content-->


<div align="center">
<!-- begin ad tag -->
<script language="JavaScript" type="text/javascript">
//<![CDATA[
var ord = (ord != null ? ord : Math.random()*10000000000000000 );
document.write('<script language="JavaScript" src="http://ad.doubleclick.net/adj/ttm.perl/article;tn=3;tw=300;th=55;to=h;tcs=0;tcp=0;ta=center;tva=bottom;tc=ffffff;tnm=3;te=1;sz=100x50;ord=' + ord + '?" type="text/javascript"><\/script>');
//]]>
</script><noscript><a href="http://ad.doubleclick.net/adj/ttm.perl/article;tn=3;tw=300;th=55;to=h;tcs=0;tcp=0;ta=center;tva=bottom;tc=ffffff;tnm=3;te=1;sz=100x50;ord=123456789?" target="_blank"><img src="http://ad.doubleclick.net/adj/ttm.perl/article;tn=3;tw=300;th=55;to=h;tcs=0;tcp=0;ta=center;tva=bottom;tc=ffffff;tnm=3;te=1;sz=100x50;ord=123456789?" width="100" height="50" border="0" alt="" /></a></noscript>
<!-- End ad tag -->
</div>
<br />

<!-- begin  print-discuss-del.icio.us options -->
<div style="margin: 0px 10px 0px 6px; float: right; width: 170px;">
<a target="_new" class="listen2" title="Listen to this page." href="http://asp2.readspeaker.net/cgi-bin/oreillyrsone?lang=us&voice=Paul&customerid=171&url=http://www.perl.com/lpt/a/993">Listen</a> 


<a class="print" title="Go to a print-friendly version of this page." href="/lpt/a/993">Print</a>

<a class="discuss" title="Join the talkback discussion about this article" href="/pub/a/2007/06/07/better-code-through-destruction.html?page=last#thread">Discuss</a>

<a class="subscribe" title="Subscribe" href="http://www.oreillynet.com/pub/feed/16">Subscribe to Perl.com</a>



</div>
<!-- end  print-discuss-del.icio.us options -->

<!-- content here -->
<h2>Better Code Through Destruction</h2>
<span class="secondary">by <a href="/pub/au/Gariev_Igor">Igor Gariev</a></span><br />
<span class="secondary">June 07, 2007</span>


	<!-- mega preparse mp: -->





<p><div class="adtag right" style="width:336px;"><!-- dy -->
<!-- begin ad tag -->
<script language="JavaScript" type="text/javascript">
//<![CDATA[
var ord = (ord != null ? ord : Math.random()*10000000000000000 );
document.write('<script language="JavaScript" src="http://ad.doubleclick.net/adj/ttm.perl/art;sz=336x280;tile=1;ord=' + ord + '?" type="text/javascript"><\/script>');
//]]>
</script><noscript><a href="http://ad.doubleclick.net/jump/ttm.perl/art;sz=336x280;tile=1;ord=2572659364?" target="_blank"><img src="http://ad.doubleclick.net/ad/ttm.perl/art;sz=336x280;ord=123456789?" width="336" height="280" border="0" alt="" /></a></noscript>
<!-- End ad tag -->
</div>
<!-- me -->
Larry Wall said that Perl makes easy things easy and hard things possible. Perl is good both for writing a two-line script that saves the world at the last minute (well, at least it saves you and your project) and for robust projects. However, good Perl programming techniques can be quite different between small and complex applications. Consider, for example, Perl's garbage collector. It frees a programmer from memory management issues most of the time...until the programmer creates circular references.</p>

<p>Perl's garbage collector counts references. When the count reaches zero (which means that no one has a reference), Perl reclaims the entity. The approach is simple and effective. However, circular references (when object A has a reference to object B, and object B has a reference to object A) present a problem. Even if nothing else in the program has a reference to either A or B, the reference count can never reach zero. Objects A and B do not get destroyed. If the code creates them again and again (perhaps in a loop), you get a memory leak. The amount of memory allocated by the program increases without a sensible reason and can never decrease. This effect may be acceptable for simple run-and-exit scripts, but it's not acceptable for programs running 24x365, such as in a mod_perl or FastCGI environment or as standalone servers.</p>

<p>Circular references are sometimes too useful to avoid. A common example is a tree-like data structure. To navigate both directions--from root to leaves and vice versa--a parent node has a list of children and a child node has a reference to its parent. Here are the circular references. Many CPAN modules implement their data models this way, including <a href="http://search.cpan.org/perldoc?HTML::Tree">HTML::Tree</a>, <a href="http://search.cpan.org/perldoc?XML::DOM">XML::DOM</a>, and <a href="http://search.cpan.org/perldoc?Text::PDF::File">Text::PDF::File</a>. All these modules provide a method to release the memory. The client application must call the method when it no longer needs an object. However, the requirement of an explicit call is not very appealing and can result in unsafe code:</p>
<!-- sidebar begins -->
<!-- don't move sidebars-->
<!-- sidebar ends -->


<pre><code>    ##
    ## Code with a memory leak
    #
    use HTML::TreeBuilder;

    foreach my $filename (@ARGV) {
        my $tree = HTML::TreeBuilder-&gt;new;
        $tree-&gt;parse_file($filename);

        next unless $tree-&gt;look_down('_tag', 'img');
        ##
        ## Do the actual work (say, extract images) here
        ## ...
        ## and release the memory
        ##
        $tree-&gt;delete;
    }</code></pre>

<p>The problem in the code is the <code>next</code> statement; HTML documents with no <code>&lt;img ...</code> tags will not be released. Actually, any call of <code>next</code>, <code>last</code>, <code>return</code> (inside a subroutine), or <code>die</code> (inside an <code>eval {}</code> block) is unsafe and will lead to a memory leak. Of course, it is possible to move the release code into a <code>continue</code> block for <code>last</code> or <code>next</code>, or to write code to delete the tree before every <code>return</code> or <code>die</code>, but the code easily becomes messy.</p>

<p>There is a better solution--the paradigm of "resource acquisition is initialization (and destruction is resource relinquishment)." (Ironically, the second half of its name is often omitted, even though it's probably the most important part). The idea is simple. Create a special guard object (of another class) whose sole responsibility is to release the resource. When the guard object gets destroyed, its destructor deletes the tree. The code may look like:</p>

<pre><code>    ##
    ## A special sentry object is employed
    ##
    use HTML::TreeBuilder;

    foreach my $filename (@ARGV) {
        my $tree = HTML::TreeBuilder-&gt;new;
        $tree-&gt;parse_file($filename);

        <strong>my $sentry = Sentry-&gt;new($tree);</strong>

        next unless $tree-&gt;look_down('_tag', 'img');
        ##
        ## next, last or return are safe here.
        ## Tree will be deleted automatically.
        ##
    }

    package Sentry;

    sub new {
        my $class = shift;
        my $tree  = shift;
        return bless {tree =&gt; $tree}, $class;
    }

    sub DESTROY {
        my $self = shift;
        $self-&gt;{tree}-&gt;delete;
    }</code></pre>

<p>Note that now there is no need to call <code>$tree-&gt;delete</code> explicitly at the end of the loop. The magic is simple. When program flow leaves the scope, <code>$sentry</code> is reclaimable because it participates in no circular references. The code of <code>DESTROY</code> method of the <code>Sentry</code> package calls, in turn, the method <code>delete</code> of the <code>$tree</code> object. This is one solution for all means; memory will be released however you leave the block.</p>

<p>Finally, there is no need to code your own <code>Sentry</code> class. Use <a href="http://search.cpan.org/perldoc?Object::Destroyer">Object::Destroyer</a>, originally written by Adam Kennedy. As you may guess by its name, it is the object to destroy other objects:</p>

<pre><code>    ##
    ## An of-the-CPAN solution with Object::Destroyer
    ##
    use HTML::TreeBuilder;
    use Object::Destroyer 2.0;

    foreach my $filename (@ARGV) {
        my $tree   = HTML::TreeBuilder-&gt;new;
        <strong>my $sentry = Object::Destroyer-&gt;new($tree, 'delete');</strong>
        $tree-&gt;parse_file($filename);

        next unless $tree-&gt;look_down('_tag', 'img');
        ##
        ## You can safely return, die, next or last here.
        ##
    }</code></pre>

<p>Because the name of the release method may vary between modules, it is the constructor's second argument.</p>

<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td><p class="secondary">


Pages: <b>1</b>, <a href="/pub/a/2007/06/07/better-code-through-destruction.html?page=2">2</a>, <a href="/pub/a/2007/06/07/better-code-through-destruction.html?page=3">3</a>
</p></td><td><p class="secondary" align="right">
<a href="/pub/a/2007/06/07/better-code-through-destruction.html?page=2">
Next Page<img src="/images/arrows-perl.gif" border="0" alt="arrow" width="10" height="12" hspace="2" vspace="0" align="baseline">
</a></p></td></tr></table>






<!-- end content -->

<img src="/images/trans.gif" alt=" " width="490" height="1" /><br />

<a name="thread"></a>


<br /><br />


<!-- end content -->

<!-- horizontal ad -->

<div class="adtag " style="width:7px;"><!-- dy -->
<!-- begin ad tag -->
<script language="JavaScript" type="text/javascript">
//<![CDATA[
var ord = (ord != null ? ord : Math.random()*10000000000000000 );
document.write('<script language="JavaScript" src="http://ad.doubleclick.net/adj/ttm.oreillynet/network;sz=7x7;tile=1;ord=' + ord + '?" type="text/javascript"><\/script>');
//]]>
</script><noscript><a href="http://ad.doubleclick.net/jump/ttm.oreillynet/network;sz=7x7;tile=1;ord=6262363223?" target="_blank"><img src="http://ad.doubleclick.net/ad/ttm.oreillynet/network;sz=7x7;ord=123456789?" width="7" height="7" border="0" alt="" /></a></noscript>
<!-- End ad tag -->
</div>

     <!-- peter's test of new techtracker tags -->
     


</div><!-- #article -->

<div id="related">

<!-- search -->
<div class="sidebar-item">
<h3>Search Perl</h3>
<div class="sidebar-item-content">

<noindex>
<form method="get" action="http://promosearch.atomz.com/search/promosearch" id="search" name="searchForm" onsubmit="processQuery();">
<input id="src" name="query" size="10" maxlength="80" accesskey="s" type="text">
<input value="test" name="sp-q" type="hidden">
<input name="sp-a" value="sp1000a5a9" type="hidden">
<input name="sp-f" value="ISO-8859-1" type="hidden">
<input name="sp-t" value="general" type="hidden">
<input name="sp-x-1" value="cat" type="hidden">
<input name="sp-q-1" value="Perl" type="hidden">
<input name="sp-x-2" value="cat2" type="hidden">
<input name="sp-q-2" value="" type="hidden">
<input name="sp-c" value="25" type="hidden">
<input name="sp-p" value="all" type="hidden">
<input name="sp-k" value="Articles|Books|Conferences|Other|Weblogs" type="hidden">
<input name="c" value="Perl" type="hidden">
<input name="p" value="" type="hidden">
<input name="search" value="Go" onclick="return searchverif();" type="submit">
</form>
</noindex>

</div>
</div>


<div class="sidebar-item">
<h3>Tagged Articles</h3>
<div class="sidebar-item-content" style="padding:0 0 10px 0;">
<p style="padding:10px 10px 6px 10px;margin:0;background-color:#FFFAE6;"><a class="delicious" title="Post to del.icio.us." href="http://del.icio.us/post" onclick="window.open('http://del.icio.us/post?v=4&partner=orn&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=700,height=400'); return false;">Post to del.icio.us</a><br /><br />
This article has been tagged:</p>

<div class="tabber">
<div class="tabbertab"><h2>perl</h2> <p style="padding-top:5px;">Articles that share the tag <em>perl</em>:</p><p><a href="http://www.perl.com/pub/a/2006/03/02/ajax_and_perl.html">Using Ajax from Perl</a> <span class="tagcount">(101 tags)</span></p><p><a href="http://www.perl.com/pub/a/2005/07/14/bestpractices.html">Ten Essential Development Practices</a> <span class="tagcount">(97 tags)</span></p><p><a href="http://www.perl.com/pub/a/2005/06/02/catalyst.html">Catalyst</a> <span class="tagcount">(91 tags)</span></p><p><a href="http://www.perl.com/pub/a/2005/06/23/sprog.html">Data Munging with Sprog</a> <span class="tagcount">(86 tags)</span></p><p><a href="http://www.perl.com/pub/a/2006/01/12/what_is_perl_6.html">What Is Perl 6</a> <span class="tagcount">(67 tags)</span></p><p class="more"><a href="http://www.oreillynet.com/tags.csp?tag=perl">View All</a></p></div><div class="tabbertab"><h2>programming</h2> <p style="padding-top:5px;">Articles that share the tag <em>programming</em>:</p><p><a href="http://www.onlamp.com/pub/a/onlamp/2005/01/20/rails.html">Rolling with Ruby on Rails</a> <span class="tagcount">(413 tags)</span></p><p><a href="http://www.xml.com/pub/a/2005/02/09/xml-http-request.html">Very Dynamic Web Interfaces</a> <span class="tagcount">(279 tags)</span></p><p><a href="http://www.onlamp.com/pub/a/onlamp/2005/06/09/rails_ajax.html">Ajax on Rails</a> <span class="tagcount">(231 tags)</span></p><p><a href="http://www.onlamp.com/pub/a/onlamp/2005/06/30/artofprog.html">Art and Computer Programming</a> <span class="tagcount">(113 tags)</span></p><p><a href="http://www.onlamp.com/pub/a/python/2006/08/10/untwisting-python-network-programming.html">Untwisting Python Network Programming</a> <span class="tagcount">(104 tags)</span></p><p class="more"><a href="http://www.oreillynet.com/tags.csp?tag=programming">View All</a></p></div><div class="tabbertab"><h2>memory</h2> <p style="padding-top:5px;">Articles that share the tag <em>memory</em>:</p><p><a href="http://www.perl.com/pub/a/2007/06/07/better-code-through-destruction.html">Better Code Through Destruction</a> <span class="tagcount">(10 tags)</span></p><p><a href="http://www.linuxdevcenter.com/pub/a/linux/2003/05/08/cpp_mm-1.html">C++ Memory Management: From Fear to Triumph</a> <span class="tagcount">(2 tags)</span></p><p class="more"><a href="http://www.oreillynet.com/tags.csp?tag=memory">View All</a></p></div><div class="tabbertab"><h2>oo</h2> <p style="padding-top:5px;">Articles that share the tag <em>oo</em>:</p><p><a href="http://www.onlamp.com/pub/a/php/2005/07/28/oo_php.html">The Practicality of OO PHP</a> <span class="tagcount">(7 tags)</span></p><p><a href="http://www.perl.com/pub/a/2007/06/07/better-code-through-destruction.html">Better Code Through Destruction</a> <span class="tagcount">(6 tags)</span></p><p><a href="http://www.xml.com/pub/a/2005/01/26/hacking-ooo.html">Hacking Open Office</a> <span class="tagcount">(2 tags)</span></p><p><a href="http://www.onlamp.com/pub/a/php/2005/06/16/overloading.html">Object Overloading in PHP 5</a> <span class="tagcount">(2 tags)</span></p><p class="more"><a href="http://www.oreillynet.com/tags.csp?tag=oo">View All</a></p></div><div class="tabbertab"><h2>memoryleak</h2> <p style="padding-top:5px;">Articles that share the tag <em>memoryleak</em>:</p><p><a href="http://www.perl.com/pub/a/2007/06/07/better-code-through-destruction.html">Better Code Through Destruction</a> <span class="tagcount">(4 tags)</span></p><p class="more"><a href="http://www.oreillynet.com/tags.csp?tag=memoryleak">View All</a></p></div></div></div></div>

<!-- sponsored developer resources -->
<div class="sidebar-item">
<h3>Sponsored Resources</h3>
<div class="sidebar-item-content">

<ul style="margin: 0 0 0 1.2em;padding: 0;">
<li><a href="http://digitalmedia.oreilly.com/lightroom/">Inside Lightroom</a></li>
</ul>

</div>
</div>




<div style="text-align:center;background-color:#eee;padding-top:10px;padding-bottom:10px;">
<img src="/images/ads/advertisement.gif" alt="Advertisement" style="padding-bottom:10px;" /><br />
<div align="center"><div class="adtag " style="width:160px;"><!-- dy -->
<!-- begin ad tag -->
<script language="JavaScript" type="text/javascript">
//<![CDATA[
var ord = (ord != null ? ord : Math.random()*10000000000000000 );
document.write('<script language="JavaScript" src="http://ad.doubleclick.net/adj/ttm.perl/home;sz=160x600;tile=2;ord=' + ord + '?" type="text/javascript"><\/script>');
//]]>
</script><noscript><a href="http://ad.doubleclick.net/jump/ttm.perl/home;sz=160x600;tile=2;ord=2572659364?" target="_blank"><img src="http://ad.doubleclick.net/ad/ttm.perl/home;sz=160x600;ord=123456789?" width="160" height="600" border="0" alt="" /></a></noscript>
<!-- End ad tag -->
</div> 

</div>
</div>

</div><!-- #related -->

</div><!-- #page-content -->

<!-- footer -->
<br />
<p class="secondary" align="center">
<a href="http://www.oreillynet.com/pub/a/mediakit/contact.html">Contact Us</a> | 
<a href="http://www.oreillynet.com/pub/a/mediakit/adcontact.html">Advertise with Us</a> |
<a href="http://www.oreillynet.com/pub/a/mediakit/privacy.html">Privacy Policy</a> |
<a href="http://press.oreilly.com/">Press Center</a> |
<a href="http://jobs.oreilly.com/">Jobs</a> | <a href="http://www.perl.com/pub/a/general/writing.html">Submissions Guidelines</a>
</p>
<p class="tiny" align="center">Copyright &copy; 2000-2006 O’Reilly Media, Inc. All Rights Reserved.<br />
All trademarks and registered trademarks appearing on the O'Reilly Network are the property of their respective owners.<br /><br />
For problems or assistance with this site, email <script language="JavaScript" type="text/javascript">
<!--
var name = "help";
var domain = "oreillynet.com";
var display = "";
var subject = "Perl.com Help";
var ending = "";
var style = "";
document.write('<a class="' + style + '" href="mailto:' + name + '&#64;' + domain + '?subject=' + subject + '">');
if (display) {
 document.write(display);
} else {
 document.write(name + '&#64;' + domain);
}
document.write('</a>' + ending);
document.write('<!-- mailmunge bit -->');

// -->
</script>

</p>
<br />

</div><!-- #page -->
 <!--WEBSIDESTORY CODE HBX1.0 (Universal)-->
    <!--COPYRIGHT 1997-2004 WEBSIDESTORY,INC. ALL RIGHTS RESERVED. U.S.PATENT No. 6,393,479B1. MORE INFO:http://websidestory.com / privacy-->
    <script language="javascript" type="text/javascript">
    var _hbEC=0,_hbE=new Array;function _hbEvent(a,b){b=_hbE[_hbEC++]=new Object();b._N=a;b._C=0;return b;}
    var hbx=_hbEvent("pv");hbx.vpc="HBX0100u";hbx.gn="ehg-oreilly.hitbox.com";

    //"BCB: perl.com,/a/2007/06/07/better-code-through-destruction.html, DM5204027ADD";

    hbx.acct="DM5204027ADD;DM520404M4ZR"; //ACCOUNT NUMBER(S)
    hbx.pn="Better+Code+Through+Destruction"; //PAGE NAME(S)
    hbx.mlc="/a/2007/06/07/;/perl.com/a/2007/06/07/"; //MULTI-LEVEL CONTENT CATEGORY
    hbx.pndef="title"; //DEFAULT PAGE NAME
    hbx.ctdef="full"; //DEFAULT CONTENT CATEGORY

    hbx.lt="auto"; //LINK TRACKING 
    hbx.dlf="n"; //DOWNLOAD FILTER
    hbx.dft="n"; //DOWNLOAD FILE NAMING
    hbx.elf="n"; //EXIT LINK FILTER

    //SEGMENTS AND FUNNELS
    hbx.seg=""; //VISITOR SEGMENTATION
    hbx.fnl=""; //FUNNELS

    //CAMPAIGNS
    hbx.cmp=""; //CAMPAIGN ID
    hbx.cmpn="CMP"; //CAMPAIGN ID IN QUERY
    hbx.hra=""; //RESPONSE ATTRIBUTE
    hbx.hqsr=""; //RESPONSE ATTRIBUTE IN REFERRAL QUERY
    hbx.hqsp="ATT"; //RESPONSE ATTRIBUTE IN QUERY
    hbx.hlt=""; //LEAD TRACKING
    hbx.hla=""; //LEAD ATTRIBUTE
    hbx.gp=""; //CAMPAIGN GOAL
    hbx.gpn=""; //CAMPAIGN GOAL IN QUERY
    hbx.hcn=""; //CONVERSION ATTRIBUTE
    hbx.hcv=""; //CONVERSION VALUE
    hbx.cp="null"; //LEGACY CAMPAIGN
    hbx.cpd=""; //CAMPAIGN DOMAIN

    //CUSTOM VARIABLES
    hbx.ci="";//CUSTOMER ID
    hbx.hc1="";//CUSTOM 1
    hbx.hc2="";//CUSTOM 2
    hbx.hc3="";//CUSTOM 3
    hbx.hc4="";//CUSTOM 4 
    hbx.pec="";//ERROR CODES
    </script><script language="javascript1.1" defer="defer"  src="http://www.oreillynet.com/hbx.js" type="text/javascript"></script><!--//-->  
    <!-- END WEBSIDESTORY CODE  -->
 </body>

</html>

